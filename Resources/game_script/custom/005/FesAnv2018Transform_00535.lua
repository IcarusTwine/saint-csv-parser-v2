(function()
  print("FesAnv2018Transform")
  function FesAnv2018Transform.OnScene00000(A0_0, A1_1, A2_2, A3_3)
    local L4_4, L5_5
    L4_4 = 0
    L5_5 = 0
    A2_2:TurnTo(A1_1, false)
    A2_2:WaitForTurn()
    if A1_1:IsQuestCompleted(A0_0.RELEASE_QUEST) == false then
      A2_2:PlayActionTimeline(A0_0.ACTION_TIMELINE_EVENT_TALK1)
      A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_020, true)
      return -1
    end
    if A3_3 == 0 then
      A2_2:PlayActionTimeline(A0_0.ACTION_TIMELINE_EVENT_TALK1)
      A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_000, false)
      if A1_1:IsQuestCompleted(A0_0.VER30_QUEST) == true then
        A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_001, true)
      else
        A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_100_001, true)
      end
    end
    if A1_1:IsQuestCompleted(A0_0.VER40_QUEST) == true then
      if A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q1_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
        L4_4 = A0_0.VER40_QUEST
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q1_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 2 then
        L4_4 = A0_0.VER30_QUEST
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q1_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 3 then
      else
        return -1
      end
      A2_2:PlayActionTimeline(A0_0.ACTION_TIMELINE_EVENT_TALK1)
      A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_003, true)
    elseif A1_1:IsQuestCompleted(A0_0.VER30_QUEST) == true then
      if A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q1_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
        L4_4 = A0_0.VER30_QUEST
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q1_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A1_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 2 then
      else
        return -1
      end
      A2_2:PlayActionTimeline(A0_0.ACTION_TIMELINE_EVENT_TALK1)
      A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_003, true)
    end
    if L4_4 == A0_0.VER40_QUEST then
      if A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
        L5_5 = A0_0.TRANSFORMATION_HIEN
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 2 then
        L5_5 = A0_0.TRANSFORMATION_YUGIRI
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 3 then
        L5_5 = A0_0.TRANSFORMATION_MAGNAI
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 4 then
        L5_5 = A0_0.TRANSFORMATION_SADU
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 5 then
        L5_5 = A0_0.TRANSFORMATION_CIRINA
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_007, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_008, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_010, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_009, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_011, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_012, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 6 then
        L5_5 = A0_0.TRANSFORMATION_LYSE
      else
        return 0
      end
    elseif L4_4 == A0_0.VER30_QUEST then
      if A1_1:IsQuestCompleted(A0_0.VER31_QUEST) == true then
        if A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_006, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_005, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
          L5_5 = A0_0.TRANSFORMATION_KRILE
        elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_006, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_005, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 2 then
          L5_5 = A0_0.TRANSFORMATION_AYMERIC
        else
          return 0
        end
      elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_005, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
        L5_5 = A0_0.TRANSFORMATION_AYMERIC
      else
        return 0
      end
    elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_004, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 1 then
      L5_5 = A0_0.TRANSFORMATION_KANESENNA
    elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_004, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 2 then
      L5_5 = A0_0.TRANSFORMATION_MERLWYB
    elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_004, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 3 then
      L5_5 = A0_0.TRANSFORMATION_RAUBAHN
    elseif A0_0:Menu(A0_0.TEXT_FESANV2018TRANSFORM_00535_Q2_000_000, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_002, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_003, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_004, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_001, A0_0.TEXT_FESANV2018TRANSFORM_00535_A2_000_013) == 4 then
      L5_5 = A0_0.TRANSFORMATION_NANAMO
    elseif A1_1:IsQuestCompleted(A0_0.VER30_QUEST) == true then
      return 0
    else
      return -1
    end
    A2_2:PlayActionTimeline(A0_0.ACTION_TIMELINE_EVENT_TALK1)
    A2_2:Talk(A1_1, A0_0, A0_0.TEXT_FESANV2018TRANSFORM_00535_TRANSFORMHLW2018_000_010, true)
    A0_0:SystemTalk(A0_0.TEXT_FESANV2018TRANSFORM_00535_SYSTEM_000_013, true)
    if L5_5 == A0_0.TRANSFORMATION_CIRINA then
      return A0_0.TRANSFORMATION_CIRINA
    elseif L5_5 == A0_0.TRANSFORMATION_SADU then
      return A0_0.TRANSFORMATION_SADU
    elseif L5_5 == A0_0.TRANSFORMATION_MAGNAI then
      return A0_0.TRANSFORMATION_MAGNAI
    elseif L5_5 == A0_0.TRANSFORMATION_HIEN then
      return A0_0.TRANSFORMATION_HIEN
    elseif L5_5 == A0_0.TRANSFORMATION_YUGIRI then
      return A0_0.TRANSFORMATION_YUGIRI
    elseif L5_5 == A0_0.TRANSFORMATION_LYSE then
      return A0_0.TRANSFORMATION_LYSE
    elseif L5_5 == A0_0.TRANSFORMATION_AYMERIC then
      return A0_0.TRANSFORMATION_AYMERIC
    elseif L5_5 == A0_0.TRANSFORMATION_KRILE then
      return A0_0.TRANSFORMATION_KRILE
    elseif L5_5 == A0_0.TRANSFORMATION_KANESENNA then
      return A0_0.TRANSFORMATION_KANESENNA
    elseif L5_5 == A0_0.TRANSFORMATION_MERLWYB then
      return A0_0.TRANSFORMATION_MERLWYB
    elseif L5_5 == A0_0.TRANSFORMATION_RAUBAHN then
      return A0_0.TRANSFORMATION_RAUBAHN
    elseif L5_5 == A0_0.TRANSFORMATION_NANAMO then
      return A0_0.TRANSFORMATION_NANAMO
    end
    return -1
  end
end)()
;(function()
  local L1_6
  L1_6 = FesAnv2018Transform
  L1_6.SCRIPT_VERSION = 2
end)()
